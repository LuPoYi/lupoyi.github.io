<!DOCTYPE html>
<html lang='en'><head>
  <title>
      
      [Ethereum] 如何使用Windows來挖礦 - Bob 學習筆記
    
  </title>
  <link rel='canonical' href='https://blog.poyi.tw/blog/2016/04/05/how-to-mine-ethereum-on-windows/' />
  <meta charset='utf-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1' />
  <meta name='description' content='' />
  <meta name='theme-color' content='#FD3519' />
  
    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
    <link rel="icon" href="/favicon.png" type="image/x-icon" />
  

  <meta name="generator" content="Hugo 0.58.0" />

  





<link rel="stylesheet" href="https://blog.poyi.tw/sass/style.min.cf2eeff825d4dbc673ce0b82d270d9fc32d34973a7d5cd079e0dcf4fe3e77515.css" integrity="sha256-zy7v&#43;CXU28ZzzguC0nDZ/DLTSXOn1c0Hng3PT&#43;PndRU=" media="screen">
<link rel="stylesheet" href="https://blog.poyi.tw/syntax.min.css" integrity="" media="screen">

  <link rel="stylesheet" href="/stylesheets/custom.css" media="screen">

  <meta property="og:title" content="[Ethereum] 如何使用Windows來挖礦" />
<meta property="og:description" content="1. 安裝geth 下載geth
解壓縮後不用執行放在C:\ (我放在E:\不過沒差)
建立錢包並設定密碼
以下指令都需要開command line(cmd)
# C:\ geth account new 同步所有交易
# C:\ # --cache=看你想分配多少RAM來sync。預設只有16MB geth --rpc --cache=8192 // 第一次似乎可以用geth &ndash;rpc &ndash;fast來快速sync完整node(沒試過)
2. 安裝mining軟體 下載mining軟體(載最下面的即可) 照一般安裝流程
安裝好後可以測設備的算力，正常來說是GPU比較快(AMD &gt; nVidia)
# C:\Program Files\Ethereum (版號)\Release ethminer -G -M # GPU ethminer -M # CPU 3. 挖礦 挖礦前blockchain要先sync過，也就是&rdquo;geth &ndash;rpc&rdquo;
看是要自己挖還是加入別人礦池
自己挖 # C:\Program Files\Ethereum (版號)\Release ethminer -G # GPU 加入礦池 需按照各大礦池的教學操作，基本上都不需要註冊，直接使用礦池提供的url&#43;你的錢包地址來挖就行了
我這邊使用nanopool(另外還有dwarfpool/ethpool&hellip;)
# C:\Program Files\Ethereum (版號)\Release // ethminer.exe http://asia1.nanopool.org:8888/YOUR_WALLET_ADDRESS -G ethminer." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.poyi.tw/blog/2016/04/05/how-to-mine-ethereum-on-windows/" />
<meta property="article:published_time" content="2016-04-05T00:00:00+00:00" />
<meta property="article:modified_time" content="2016-04-05T00:00:00+00:00" />

  <meta itemprop="name" content="[Ethereum] 如何使用Windows來挖礦">
<meta itemprop="description" content="1. 安裝geth 下載geth
解壓縮後不用執行放在C:\ (我放在E:\不過沒差)
建立錢包並設定密碼
以下指令都需要開command line(cmd)
# C:\ geth account new 同步所有交易
# C:\ # --cache=看你想分配多少RAM來sync。預設只有16MB geth --rpc --cache=8192 // 第一次似乎可以用geth &ndash;rpc &ndash;fast來快速sync完整node(沒試過)
2. 安裝mining軟體 下載mining軟體(載最下面的即可) 照一般安裝流程
安裝好後可以測設備的算力，正常來說是GPU比較快(AMD &gt; nVidia)
# C:\Program Files\Ethereum (版號)\Release ethminer -G -M # GPU ethminer -M # CPU 3. 挖礦 挖礦前blockchain要先sync過，也就是&rdquo;geth &ndash;rpc&rdquo;
看是要自己挖還是加入別人礦池
自己挖 # C:\Program Files\Ethereum (版號)\Release ethminer -G # GPU 加入礦池 需按照各大礦池的教學操作，基本上都不需要註冊，直接使用礦池提供的url&#43;你的錢包地址來挖就行了
我這邊使用nanopool(另外還有dwarfpool/ethpool&hellip;)
# C:\Program Files\Ethereum (版號)\Release // ethminer.exe http://asia1.nanopool.org:8888/YOUR_WALLET_ADDRESS -G ethminer.">


<meta itemprop="datePublished" content="2016-04-05T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2016-04-05T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="186">



<meta itemprop="keywords" content="mining,windows,nanopool,dwarfpool," />

</head>

<body>

  <header style="background-image:linear-gradient(
      rgba(0,0,0,0.4),rgba(0,0,0,0.4)
    ),url(&#39;https://blog.poyi.tw/images/default-sidebar.jpg&#39;)">

  <div class="intro">
    <div class="logo-container">
      <a href="/">
        <img src='https://blog.poyi.tw/images/bob2.jpg' alt="Profile Bob 學習筆記" class="rounded-logo">
      </a>
    </div>
    <h2>Bob</h2>
    <h3>Software Engineer</h3>
    <div class="menu">
      

        <p>
            <a href="/posts/">
                Archive
            </a>
        </p>

        <p>
            <a href="/memo/">
                Memo
            </a>
        </p>

        <p>
            <a href="/about/">
                About
            </a>
        </p>

      
        
        <p>
            <a href="mailto:maydaybob2000@gmail.com" target="_blank" rel="external">
                
            </a>
        </p>
      
    </div>

  </div>

  <div class="socials">
      
  </div>

</header>

  <div class="content-wrapper">
    
      <div class="breadcrumb">
  





<span >
  <a href="https://blog.poyi.tw/">Bob 學習筆記</a>
   / 
</span>


<span >
  <a href="https://blog.poyi.tw/posts/">Posts</a>
   / 
</span>


<span  class="active">
  <a href="https://blog.poyi.tw/blog/2016/04/05/how-to-mine-ethereum-on-windows/">[Ethereum] 如何使用Windows來挖礦</a>
  
</span>

</div>

    
    <main id="content" class="posts">

<h1>[Ethereum] 如何使用Windows來挖礦</h1>
<div class="post-date">April 5, 2016</div>
<br>
<h2 id="1-安裝geth">1. 安裝geth</h2>

<p><a href="https://github.com/ethereum/go-ethereum/releases">下載geth</a></p>

<p>解壓縮後不用執行放在C:\ (我放在E:\不過沒差)</p>

<p>建立錢包並設定密碼</p>

<p>以下指令都需要開command line(cmd)</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\</span>
geth account new</code></pre></div>
<p>同步所有交易</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\</span>
<span class="c1"># --cache=看你想分配多少RAM來sync。預設只有16MB</span>
geth --rpc --cache<span class="o">=</span><span class="m">8192</span></code></pre></div>
<p>// 第一次似乎可以用geth &ndash;rpc &ndash;fast來快速sync完整node(沒試過)</p>

<h2 id="2-安裝mining軟體">2. 安裝mining軟體</h2>

<p><a href="https://build.ethdev.com/builds/Windows%20C%2B%2B%20develop%20branch/">下載mining軟體</a>(載最下面的即可)
照一般安裝流程</p>

<p>安裝好後可以測設備的算力，正常來說是GPU比較快(AMD &gt; nVidia)</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\Program Files\Ethereum (版號)\Release</span>
ethminer -G -M <span class="c1"># GPU</span>
ethminer -M    <span class="c1"># CPU</span></code></pre></div>
<h2 id="3-挖礦">3. 挖礦</h2>

<p>挖礦前blockchain要先sync過，也就是&rdquo;geth &ndash;rpc&rdquo;</p>

<p>看是要自己挖還是加入別人礦池</p>

<h3 id="自己挖">自己挖</h3>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\Program Files\Ethereum (版號)\Release</span>
ethminer -G <span class="c1"># GPU</span></code></pre></div>
<h3 id="加入礦池">加入礦池</h3>

<p>需按照<a href="http://cryptomining-blog.com/7529-ethereum-mining-is-getting-way-too-centralized/">各大礦池</a>的教學操作，基本上都不需要註冊，直接使用礦池提供的url+你的錢包地址來挖就行了</p>

<p>我這邊使用nanopool(另外還有dwarfpool/ethpool&hellip;)</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\Program Files\Ethereum (版號)\Release</span>
// ethminer.exe http://asia1.nanopool.org:8888/YOUR_WALLET_ADDRESS -G
ethminer.exe http://asia1.nanopool.org:8888/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123 -G</code></pre></div>
<p>也可以加上worker跟mail(會通知你的worker是否關閉)</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\Program Files\Ethereum (版號)\Release</span>
ethminer.exe http://asia1.nanopool.org:8888/YOUR_WALLET_ADDRESS/YOUR_WORKER_NAME/YOUR_EMAIL -G</code></pre></div>
<h2 id="4-看成果-礦池">4. 看成果(礦池)</h2>

<p>可依照nanopool提供的api查看目前情況</p>

<p><a href="http://eth.nanopool.org/api/balance/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123">http://eth.nanopool.org/api/balance/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123</a>
<a href="http://eth.nanopool.org/account/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123/bob">http://eth.nanopool.org/account/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123/bob</a>
<a href="https://www.etherchain.org/account/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123">https://www.etherchain.org/account/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123</a></p>

<p>nanopool一天會結算四次，最少要有0.1 Eth才會發transaction到你的wallet</p>

<p>可以在本機下geth指令查你的錢包資訊</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># C:\</span>
geth attach
&gt; eth.coinbase
<span class="s2">&#34;0xb2944f316e14887bce4b5fae1c66ac78ba7c9123&#34;</span>
&gt; eth.acccounts
<span class="o">[</span><span class="s2">&#34;0xb2944f316e14887bce4b5fae1c66ac78ba7c9123&#34;</span><span class="o">]</span>
&gt; eth.getBalance<span class="o">(</span>eth.coinbase<span class="o">)</span>
<span class="m">0</span></code></pre></div>
<p>記得要sync到最新才能拿到正確資訊</p>

<p>可以到<a href="https://www.etherchain.org/">Etherchain</a>看一下Recent blocks是不是已經sync到最新的block</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># geth指令整理</span>
geth upgradedb
geth removedb <span class="c1"># 整個blockchain會被清掉</span>
geth --rpc --cache<span class="o">=</span><span class="m">8192</span> <span class="c1"># sync</span></code></pre></div>
<h2 id="其他-把指令包成-bat批次檔">其他－把指令包成.bat批次檔</h2>

<h3 id="ethereum-mining-bat">ethereum_mining.bat</h3>

<p>因為需要分別開mining, sync以及console三個cmd並執行不同指令，所以我把指令包成.bat放桌面一鍵執行，或是拿來排程執行也ok</p>
<div class="highlight"><pre class="chroma"><code class="language-bat" data-lang="bat"># ethereum_mining.bat
<span class="k">echo</span> on
E<span class="p">:</span>
<span class="k">cd</span> <span class="s2">&#34;Program Files\Ethereum 0.9.41\Release&#34;</span>
ethminer -F asia1.nanopool.org:8888/0xb2944f316e14887bce4b5fae1c66ac78ba7c9123/bob/maydaybob2000@gmail.com -G</code></pre></div>
<p>使用GPU來挖，所以會吃顯卡效能</p>

<p><a href="/images/poyi/ethereum_mining.jpg" target="_blank"><img src="/images/poyi/ethereum_mining.jpg" title="image" alt="images"></a></p>

<p><h3 id="ethereum-sync-bat">ethereum_sync.bat</h3>
<div class="highlight"><pre class="chroma"><code class="language-bat" data-lang="bat"># ethereum_sync.bat
<span class="k">echo</span> on
E<span class="p">:</span>
geth &ndash;rpc &ndash;cache=8192</code></pre></div>
<p>sync會吃網路流量，圖中最下面的 #1401468 就是指我這台目前sync到這個block</p></p>

<p><a href="/images/poyi/ethereum_sync.jpg" target="_blank"><img src="/images/poyi/ethereum_sync.jpg" title="image" alt="images"></a></p>

<p><h3 id="ethereum-console-bat">ethereum_console.bat</h3>
<div class="highlight"><pre class="chroma"><code class="language-bat" data-lang="bat"># ethereum_console.bat
<span class="k">echo</span> on
E<span class="p">:</span>
geth attach</code></pre></div>
<p>使用console前記得打開sync</p></p>

<p><a href="/images/poyi/ethereum_console.jpg" target="_blank"><img src="/images/poyi/ethereum_console.jpg" title="image" alt="images"></a></p>

<h2 id="其他-將eth所佔的c槽容量移到e槽">其他－將ETH所佔的C槽容量移到E槽</h2>

<p>挖礦及同步的資料預設都放在C底下</p>

<p>(C:\Users\Bob\AppData\Local\Ethask)</p>

<p>(C:\Users\Bob\AppData\Roaming\Ethereum)</p>

<ul>
<li>把C:\Users\Bob\AppData\Local\Ethask這個資料夾直接搬移到E:\ETH\Ethash</li>
<li>開cmd下指令 &ldquo;mklink /D C:\Users\Bob\AppData\Local\Ethask E:\ETH\Ethash</li>

<li><p>這樣就行了，另一個folder也比照辦理</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># cmd</span>
C:<span class="se">\U</span>sers<span class="se">\B</span>ob&gt; mklink /D C:<span class="se">\U</span>sers<span class="se">\B</span>ob<span class="se">\A</span>ppData<span class="se">\L</span>ocal<span class="se">\E</span>thash E:<span class="se">\E</span>TH<span class="se">\E</span>thash
已建立 C:<span class="se">\U</span>sers<span class="se">\B</span>ob<span class="se">\A</span>ppData<span class="se">\L</span>ocal<span class="se">\E</span>thash 的符號連結 &lt;&lt;<span class="o">===</span>&gt;&gt; E:<span class="se">\E</span>TH<span class="se">\E</span>thash</code></pre></div></li>
</ul>

<p>Reference:</p>

<p><a href="https://www.cryptocompare.com/mining/guides/how-to-mine-ethereum/">https://www.cryptocompare.com/mining/guides/how-to-mine-ethereum/</a></p>

<p><a href="http://nanopool.org">http://nanopool.org</a></p>

<p><a href="https://github.com/ethereum/go-ethereum/wiki/Backup-&amp;-restore">https://github.com/ethereum/go-ethereum/wiki/Backup-&amp;-restore</a></p>

<p><a href="https://diaryofdennis.com/2016/06/11/how-to-move-and-change-your-ethereum-mining-ethash-dag-folder/">https://diaryofdennis.com/2016/06/11/how-to-move-and-change-your-ethereum-mining-ethash-dag-folder/</a></p>



<div id="disqus_thread"></div>
<script type="text/javascript">

(function() {
    
    
    if (window.location.hostname == "localhost")
        return;

    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    var disqus_shortname = 'blogpoyitw';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </main>
  </div>
  <footer>
    <div class="footer-wrapper">
      <p>Made with ❤️ &mdash; Powered by <a href="https://gohugo.io/" target="_blank" rel="external">Hugo</a> and the <a href="https://github.com/bjacquemet/personal-web" target='_blank' rel="external">Personal Web</a> theme.</p>
      <p></p>
    </div>
  </footer>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:500,600|Raleway:400,400i,600" rel="stylesheet">
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-43769917-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</body>
</html>